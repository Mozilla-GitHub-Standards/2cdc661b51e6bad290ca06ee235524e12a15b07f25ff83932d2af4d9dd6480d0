<svg version="1.1"
     baseProfile="full"
     xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     width="790" height="390">
  <title>SCL3 vs AWS Servers</title>
  <defs>
    <style type="text/css"><![CDATA[
      text.title {
        stroke: black;
        font-family: serif;
        font-size: 24px;
      }
      .server-boxes use {
        stroke: black;
        stroke-width: 3;
        fill: white;
      }
      .server-boxes text {
        stroke: black;
        font-family: sans-serif;
        font-size: 14px;
      }
      .container-web use {
        stroke: blue;
      }
      .container-api use {
        stroke: red;
      }
      .container-kscript use {
        stroke: green;
      }
      .container-celery use {
        stroke: purple;
      }
    ]]></style>
    <g id="def-scl3-box">
      <rect rx="5" ry="5" width="75" height="50" />
    </g>
    <g id="def-aws-box">
      <rect rx="5" ry="5" width="185" height="55" />
    </g>
    <g id="def-container">
      <rect width="55" height="20" />
    </g>
  </defs>

  <g id="scl3-side">
    <text x="162.5" y="30" class="title" text-anchor="middle">SCL3</text>
    <g class="server-boxes">
      <g id="scl3-row1" transform="translate(25, 50)">
        <g>
          <use xlink:href="#def-scl3-box" />
          <text x="37.5" y="30" text-anchor="middle">web1</text>
        </g>
        <g transform="translate(100, 0)">
          <use xlink:href="#def-scl3-box" />
          <text x="37.5" y="30" text-anchor="middle">web2</text>
        </g>
        <g transform="translate(200, 0)">
          <use xlink:href="#def-scl3-box" />
          <text x="37.5" y="30" text-anchor="middle">web3</text>
        </g>
      </g>
      <g id="scl3-row2" transform="translate(25, 125)">
        <g>
          <use xlink:href="#def-scl3-box" />
          <text x="37.5" y="30" text-anchor="middle">web4</text>
        </g>
        <g transform="translate(100, 0)">
          <use xlink:href="#def-scl3-box" />
          <text x="37.5" y="30" text-anchor="middle">web5</text>
        </g>
        <g transform="translate(200, 0)">
          <use xlink:href="#def-scl3-box" />
          <text x="37.5" y="30" text-anchor="middle">web6</text>
        </g>
      </g>
      <g id="scl3-row3" transform="translate(75, 200)">
        <g>
          <use xlink:href="#def-scl3-box" />
          <text x="37.5" y="30" text-anchor="middle">celery1</text>
        </g>
        <g transform="translate(100, 0)">
          <use xlink:href="#def-scl3-box" />
          <text x="37.5" y="30" text-anchor="middle">celery2</text>
        </g>
      </g>
      <g id="scl3-row4" transform="translate(75, 275)">
        <g>
          <use xlink:href="#def-scl3-box" />
          <text x="37.5" y="30" text-anchor="middle">celery3</text>
        </g>
        <g transform="translate(100, 0)">
          <use xlink:href="#def-scl3-box" />
          <text x="37.5" y="30" text-anchor="middle">celery4</text>
        </g>
      </g>
    </g>
  </g>
  <g id="aws-side" transform="translate(350, 0)">
    <text x="215" y="30" class="title" text-anchor="middle">AWS</text>
    <g class="server-boxes">
      <g id="aws-row1" transform="translate(25, 50)">
        <!-- Full box
        <g id="aws-server-template">
          <use xlink:href="#def-aws-box" />
          <g class="container" transform="translate(5, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">1-1</text>
          </g>
          <g class="container" transform="translate(65, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">1-2</text>
          </g>
          <g class="container" transform="translate(125, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">1-3</text>
          </g>
          <g class="container" transform="translate(5, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">2-1</text>
          </g>
          <g class="container" transform="translate(65, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">2-2</text>
          </g>
          <g class="container" transform="translate(125, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">2-3</text>
          </g>
        </g>
        -->
        <g id="aws-server1">
          <use xlink:href="#def-aws-box" />
          <g class="container-celery" transform="translate(5, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">celery</text>
          </g>
          <g class="container-web" transform="translate(125, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
          <g class="container-web" transform="translate(5, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
          <g class="container-web" transform="translate(65, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
          <g class="container-kscript" transform="translate(125, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">kscript</text>
          </g>
        </g>
        <g id="aws-server2" transform="translate(200, 0)">
          <use xlink:href="#def-aws-box" />
          <g class="container-kscript" transform="translate(5, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">kscript</text>
          </g>
          <g class="container-celery" transform="translate(125, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">celery</text>
          </g>
          <g class="container-kscript" transform="translate(5, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">kscript</text>
          </g>
          <g class="container-celery" transform="translate(65, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">celery</text>
          </g>
          <g class="container-web" transform="translate(125, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
        </g>
      </g>
      <g id="aws-row2" transform="translate(25, 120)">
        <g id="aws-server3">
          <use xlink:href="#def-aws-box" />
          <g class="container-celery" transform="translate(5, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">celery</text>
          </g>
        </g>
        <g id="aws-server4" transform="translate(200, 0)">
          <use xlink:href="#def-aws-box" />
          <g class="container-web" transform="translate(5, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
          <g class="container-celery" transform="translate(65, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">celery</text>
          </g>
          <g class="container-web" transform="translate(5, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
          <g class="container-celery" transform="translate(125, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">celery</text>
          </g>
        </g>
      </g>
      <g id="aws-row3" transform="translate(25, 190)">
        <g id="aws-server5">
          <use xlink:href="#def-aws-box" />
          <g class="container-web" transform="translate(5, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
          <g class="container-celery" transform="translate(125, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">celery</text>
          </g>
          <g class="container-web" transform="translate(5, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
          <g class="container-web" transform="translate(65, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
          <g class="container-web" transform="translate(125, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
        </g>
        <g id="aws-server6" transform="translate(200, 0)">
          <use xlink:href="#def-aws-box" />
          <g class="container-web" transform="translate(5, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
          <g class="container-celery" transform="translate(65, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">celery</text>
          </g>
          <g class="container-web" transform="translate(125, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
          <g class="container-web" transform="translate(65, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
        </g>
      </g>
      <g id="aws-row4" transform="translate(25, 260)">
        <g id="aws-server7">
          <use xlink:href="#def-aws-box" />
          <g class="container-web" transform="translate(125, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
          <g class="container-web" transform="translate(5, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
          <g class="container-api" transform="translate(65, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">api</text>
          </g>
          <g class="container-api" transform="translate(125, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">api</text>
          </g>
        </g>
        <g id="aws-server8" transform="translate(200, 0)">
          <use xlink:href="#def-aws-box" />
          <g class="container-celery" transform="translate(5, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">celery</text>
          </g>
          <g class="container-kscript" transform="translate(65, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">kscript</text>
          </g>
          <g class="container-web" transform="translate(125, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
          <g class="container-kscript" transform="translate(5, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">kscript</text>
          </g>
          <g class="container-web" transform="translate(65, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
        </g>
      </g>
      <g id="aws-row5" transform="translate(125, 330)">
        <g id="aws-server9">
          <use xlink:href="#def-aws-box" />
          <g class="container-celery" transform="translate(5, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">celery</text>
          </g>
          <g class="container-web" transform="translate(65, 5)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
          <g class="container-web" transform="translate(5, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
          <g class="container-web" transform="translate(65, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">web</text>
          </g>
          <g class="container-kscript" transform="translate(125, 30)">
            <use xlink:href="#def-container" />
            <text x="27.5" y="15" text-anchor="middle">kscript</text>
          </g>
        </g>
      </g>
    </g>
  </g>
</svg>
